/* TODO: broken on safari.. add vendor specific prefixes and see:
- https://css-tricks.com/snippets/css/keyframe-animation-syntax/
- https://developer.apple.com/library/archive/documentation/InternetWeb/Conceptual/SafariVisualEffectsProgGuide/AnimatingWithKeyframes/AnimatingWithKeyframes.html#//apple_ref/doc/uid/TP40008032-CH14-SW5 ?? */


svg {
  stroke: var(--accent-bright);
  stroke-width: 4;
  fill: transparent;
  background-color: transparent;
}

.threedp {
  position: relative;
  display: flex;
  height: 350px;
  margin: auto;

  justify-content: center;
  align-items: center;
}

.box {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 200px;
  height: 200px;
  border: 0.65em solid var(--theme-diff);
  border-radius: 10%;
  -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
  z-index: 100;
  transform: translate(-5px, 0px);
}

.spool {
  position: absolute;
  height: 125px;
  width: 30px;
  background-clip: content-box;
  border-top: 5px solid var(--transparent);
  border-left: 5px solid var(--theme-diff);
  border-right: 5px solid var(--theme-diff);
  border-bottom: 5px solid var(--transparent);
  background-color: var(--accent-bright);
  transform: translate(115px, 5px);
  z-index: initial;
}


.bars {
  width: 400px;
  height: 15px;
  background-color: transparent;
  border-top: 5px solid var(--theme-diff);
  border-bottom: 5px solid var(--theme-diff);
  border-left: 0px;
  border-right: 0px;
  animation: move linear 8000ms reverse;
  offset-path: path("M 20 0 V 8 H 32 Q 36 12 32 16 H 4 Q 0 20 4 24 H 64 Q 68 28 64 32 H -28 Q -32 36 -28 40 H 64 Q 68 44 64 48 H -28 Q -32 52 -28 56 H 64 Q 68 60 64 64 H -30");
  offset-rotate: 0deg;
  transform: translate(200px, 0px);
  z-index: -10;
}

/*
@-webkit-keyframes raise {
    from {
        transform: translate(0, 25px);
    }
    to {
        transform: translate(0, 90px);
    }
}

@keyframes raise {
    from {
        transform: translate(0, 25px);
    }
    to {
        transform: translate(0, 90px);
    }
} */

.bed {
  position: absolute;
  bottom: 0px;
  width: 150px;
  border-top: 10px solid var(--theme-diff);
  border-bottom: 5px solid transparent;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
}

/* hotend case */
.hotend {
  display: flex;
  flex-direction: column;
  align-items: center;

  width: 45px;
  height: 55px;
  background: transparent;
  -webkit-animation: move linear 8000ms reverse;
  animation: move linear 8000ms reverse;
  offset-path: path("M 20 0 V 8 H 32 Q 36 12 32 16 H 4 Q 0 20 4 24 H 64 Q 68 28 64 32 H -28 Q -32 36 -28 40 H 64 Q 68 44 64 48 H -28 Q -32 52 -28 56 H 64 Q 68 60 64 64 H -30");
  offset-rotate: 0deg;
  transform: translate(1px, 65px);
}


@-webkit-keyframes move {
  0% {
    offset-distance: 0%
  }

  100% {
    offset-distance: 100%
  }
}

@keyframes move {
  0% {
    offset-distance: 0%;
  }

  100% {
    offset-distance: 100%;
  }
}

/*
.fan-case {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: var(--theme-mid);
} */

/* hotend fan */
/* .fan {
  content: '';
  height: 30px;
  width: 30px;
  margin: .25em;
  background-color: var(--theme-mid);
  border: 2.5px dotted var(--light);
  filter: contrast(55%);
  border-radius: 50%;
  z-index: 2;
} */

/* hotend fan */
.hotend:before {
  content: '';
  width: 30px;
  height: 30px;
  position: absolute;
  background-color: var(--theme-mid);
  border: 2.5px dotted var(--light);
  filter: contrast(55%);
  border-radius: 50%;
  transform: translate(5px, 5px);
}

/* hotend nozzle */
/* .nozzle {
  content: '';
  width: 30px;
  height: 30px;
  background-color: var(--theme-mid);
  filter: contrast(25%);
  -webkit-clip-path: polygon(0% 20%, 15% 20%,
      15% 0%, 85% 0%,
      85% 25%, 100% 25%,
      100% 60%, 80% 65%,
      65% 90%, 35% 90%,
      20% 65%, 0% 60%);
  clip-path: polygon(0% 20%, 15% 20%,
      15% 0%, 85% 0%,
      85% 25%, 100% 25%,
      100% 60%, 80% 65%,
      65% 90%, 35% 90%,
      20% 65%, 0% 60%);
} */

.hotend:after {
  content: '';
  width: 30px;
  height: 20px;
  position: absolute;
  background-color: var(--theme-mid);
  filter: contrast(25%);
  -webkit-clip-path: polygon(0% 20%, 15% 20%,
      15% 0%, 85% 0%,
      85% 25%, 100% 25%,
      100% 60%, 80% 65%,
      65% 90%, 35% 90%,
      20% 65%, 0% 60%);
  clip-path: polygon(0% 20%, 15% 20%,
      15% 0%, 85% 0%,
      85% 25%, 100% 25%,
      100% 60%, 80% 65%,
      65% 90%, 35% 90%,
      20% 65%, 0% 60%);
  transform: translate(7.5px, 45px);
}

path {
  stroke-dasharray: 634.277;
  /* stroke-dashoffset: 634.277; */
  -webkit-animation: draw linear 8000ms forwards;
  animation: draw linear 8000ms forwards;
}

@-webkit-keyframes draw {
  from {
    stroke-dashoffset: 634.277;
  }

  to {
    stroke-dashoffset: 1268.554;
  }
}

@keyframes draw {
  from {
    stroke-dashoffset: 634.277;
  }

  to {
    stroke-dashoffset: 1268.554;
  }
}
